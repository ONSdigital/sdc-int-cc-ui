{%- extends 'base.html' -%}

{%- from 'components/button/_macro.njk' import onsButton -%}
{%- from "components/textarea/_macro.njk" import onsTextarea -%}

{%- if error_note -%}
    {%- set error_note = {'id': 'error_note', 'text': error_note} -%}
{%- else -%}
    {%- set error_note = {} -%}
{%- endif -%}

{%- set form =  {
    'method': 'POST',
    'attributes': {
        'action': ''
    }
} -%}

{%- block main -%}

    {%- if get_flashed_messages() -%}
        {%- include 'partials/messages.html' with context -%}
    {%- endif -%}

    <h1 class="u-mt-l">Add a case note</h1>

    {{
        onsTextarea({
            "id": "textarea",
            "name": "form-case-add-note",
            "label": {
                "text": "Case note",
            },
            "error": error_note
        })
    }}

    <div class="btn-group u-mt-l">
        {{
            onsButton({
                'text': 'Add note',
                'submitType': 'loader'
            })
        }}

        {{
            onsButton({
                'type': 'button',
                'text': 'Cancel',
                'classes': 'btn--secondary btn-group__btn',
                'url': url_for('case.case', case_id=case_id),
                'icon': 'false'
            })
        }}
    </div>


{%- endblock -%}
